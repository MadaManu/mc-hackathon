var client = require("./_client-helper"),
	assert = require('assert');

describe('Chargeback -', function() {

	it('should retrieve a list of chargebacks successfully', function(done) {
		client.chargeback.list({
			max: 30
		}, function(error, data) {

			if (error) {
				console.error(JSON.stringify(error.data));
				done(error);
			}

			assert.equal(data.max, 30, "Chargeback list should return 'max' param of 30.");
			done();
		});
	});

	it('should retrieve a list of chargebacks successfully', function(done) {
		client.chargeback.find("invalid_id", function(error, data) {

			if (data) {
				done(new Error("Chargeback should not exist, but found a chargeback?"));
			}

			assert.equal(error.data.error.code, "object.not.found", "Update InvoiceItem fails with correct error code.");
			assert.equal(error.data.error.message, "Not Found", "Update InvoiceItem fails with correct error message.");
			done();
		});
	});
});