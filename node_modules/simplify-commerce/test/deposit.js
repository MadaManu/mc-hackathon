var client = require("./_client-helper"),
	assert = require('assert');

describe('Deposit -', function() {

	it('should retrieve a list of deposits successfully', function(done) {
		client.deposit.list({
			max: 30
		}, function(error, data) {

			if (error) {
				console.error(JSON.stringify(error.data));
				done(error);
			}

			assert.equal(data.max, 30, "List Deposit should succeed");
			done();
		});
	});

	it('should not be able to find a deposit successfully for an invalid id', function(done) {
		client.deposit.find("invalid_id", function(error, data) {

			if (data) {
				done(new Error("Deposit should not exist, but found a deposit?"));
			};

			assert.equal(error.data.error.code, "object.not.found", "Find Deposit fails with correct error code.");
			assert.equal(error.data.error.message, "Not Found", "Find Deposit fails with correct error message.");
			done();
		});
	});

});